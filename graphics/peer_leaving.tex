\documentclass{article}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

\begin{document}
\pagestyle{empty}

\newcommand{\send}{\Rightarrow}
\newcommand{\sendto}{\rightarrow}
\algrenewcommand\algorithmicprocedure{\textbf{task}}

\begin{algorithmic}

  \Procedure{${\cal P}_o$.Leave}{${\cal S}_j$}
  \State $[\mathtt{goodbye}] \sendto {\cal S}_j$
  \For{${\cal P}_k\in N({\cal P}_o)$}
  $[\mathtt{goodbye}] \sendto {\cal P}_k$
  \EndFor
  \State relay\_pending\_chunks()
  \State $[\mathtt{goodbye}] \gets {\cal S}_j$ \textbf{with} timeout
  \While{timeout}
  \State $[\mathtt{goodbye}] \sendto {\cal S}_j$
  \State $[\mathtt{goodbye}] \gets {\cal S}_j$ \textbf{with} timeout
  \EndWhile
  \EndProcedure
  \newline
  \Procedure{${\cal P}_k$.ProcessGoodbye()}{}
  \While{True}
  \State $[\mathtt{goodbye}] \gets {\cal P}_o$
  \State $N({\cal P}_k)=N({\cal P}_k) \setminus {\cal P}_o$
  \EndWhile
  \EndProcedure
  
\end{algorithmic}

\end{document}


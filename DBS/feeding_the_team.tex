% Emacs, this is -*-latex-*-

% Feeding the Team

\label{sec:feeding_the_team}

The splitter divides the stream into chunks of constant length $C$,
and sends exclusively each chunk to a different
\gls{origin}\footnote{In the route that a chunk traces from the
  splitter to all peers of the team, the origin peer is the first one
  in this route i.e., the peer selected by the splitter for that
  chunk.}  peer, using a round-robin schema. Chunks are enumerated to
distinguish them, and this information is transmitted as a part of a chunk
header.

\begin{comment}
More details about the implementation
are available in Fig.~\ref{fig:chunk_generation}.

%$x$, conforming a message
%$c_x=[x,\text{chunk}]$, where
%$x=i \text{mod} \text{Splitter\_DBS.list\_of\_peers}.\text{length}()$.

\begin{figure*}
  %\includegraphics[width=0.75\textwidth]{chunk_generation_and_flooding}
  \fig{500}{5cm}{DBS_splitter_feed} \caption{Chunk
    generation at the splitter and their transmission to the
    team.\label{fig:chunk_generation}}
\end{figure*}
\end{comment}

A \gls{round} is defined as the process of transmitting $N$ different
chunks from the splitter to a team of $N\leq N^*$ peers (therefore,
all the peers of the team are origin of a different chunk, in each
round). For a team of size $N$, the average \gls{round-time} can be
estimated as
\begin{equation}
  t^{\mathrm{round}}=Nt^{\mathrm{chunk}},
\end{equation}
where $t^{\mathrm{chunk}}$ is the \gls{chunk-time}, defined as
\begin{equation}
  \label{eq:chunk_time}
  t^{\mathrm{chunk}}=\frac{l^{\mathrm{chunk}}}{R},
\end{equation}
where $l^{\mathrm{chunk}}$ is the length of the chunks (all the chunks are
split with the same length) and $R$ is the average transmission
bit-rate, that should match the average bit-rate of the stream in
order to achieve a seamsless playing.

\begin{comment}
The round-time is defined by:
\begin{equation}
  \cal{r} = \cal{c}N.
  \label{eq:round_time}
\end{equation}
For example, if we use only one team of $N=256$ peers, a chunk size
$C=1024$~bytes, and a video of $1$~Mb/s, the round time is
\begin{displaymath}
  \cal{r} = \frac{1024\frac{\text{bytes}}{\text{chunk}}\times
    8\frac{\text{bits}}{\text{byte}}}{10^6\frac{\text{bits}}{\text{second}}}\times
  256 \approx 2.1~\text{seconds}.
\end{displaymath}
\end{comment}
